<!DOCTYPE html>
<html lang="en_US">
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript"></script>

    <h2 class="chart_title">Bitcoin Price</h2>
    <p id="demo">prova</p>

    <script>
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        
        var jsonData;
        var period = "86400";
        obj = $.getJSON('http://api.allorigins.ml/get?url=https%3A//api.cryptowat.ch/markets/coinbase-pro/btcusd/ohlc%3Fbefore%3D1546297140%26after%3D1543618800%26periods%3D86400&callback=?', function(data){
          jsonData = jQuery.parseJSON(data.contents);
          
          var data = new google.visualization.DataTable();
          data.addColumn({type:'number', label:'time'});
          data.addColumn({type:'number', label:'open price'});
          data.addColumn({type:'number', label:'high price'});
          data.addColumn({type:'number', label:'low price'});
          data.addColumn({type:'number', label:'close price'});
          data.addColumn({type:'number', label:'volume'});
          data.addColumn({type:'number', label:'market cap'});
          data.addRows(jsonData.result[period]);
          data.removeColumn(6);
          /* openprice <-> lowprice*/
          /*data.setColumnProperties(5, data.getColumnProperties(1)); //save LowPrice in tmpColumn
          data.setColumnProperties(1, data.getColumnProperties(2));*/ //switch OpenPrice with LowPrice
          /*lowprice <-> closeprice*/
          /*data.setColumnProperties(5, data.getColumnProperties(3)); //save ClosePrice in tmpColumn
          data.setColumnProperties(3, data.getColumnProperties(5));*/ //switch ClosePrice with LowPrice
          /*closeprice <-> highprice*/
          /*data.setColumnProperties(5, data.getColumnProperties(4)); //save HighPrice in tmpColumn
          data.setColumnProperties(4, data.getColumnProperties(5));*/ //switch ClosePrice with HighPrice
          /*highprice <-> openprice*/
          /*data.setColumnProperties(5, data.getColumnProperties(2)); //save OpenPrice in tmpColumn
          data.setColumnProperties(2, data.getColumnProperties(5));*/ //switch OpenPrice with HighPrice
          data.removeColumn(5);
          //console.log(data.getColumnProperties(3));

          console.log(jsonData.result[period][1][0]);

          var dataTmp = new google.visualization.arrayToDataTable([['Mon', 20, 28, 38, 45]], true); //tmp dataTable to do change column properties
          data.setColumnProperties(1, dataTmp.getColumnProperties(2)); //set openprice
          data.setColumnProperties(2, dataTmp.getColumnProperties(4)); //set highprice
          data.setColumnProperties(3, dataTmp.getColumnProperties(1)); //set lowprice
          data.setColumnProperties(4, dataTmp.getColumnProperties(3)); //set closeprice

          var options = {
            legend:'none',
            vAxis: {title:'money'},
            hAxis: {title:'time'},
            candlestick: {
            risingColor: {stroke: '#4CAF50', fill: '#4CAF50'},
            fallingColor: {stroke: '#F44336', fill:'#F44336'}
          },
          colors: ['blue']
        };

        var chart = new google.visualization.CandlestickChart(document.getElementById('chart_div'));

        chart.draw(data, options);
          
        });

      }

    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
    
</body>
</html>